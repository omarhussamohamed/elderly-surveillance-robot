<launch>

  <!-- ===================== -->
  <!-- Global Arguments -->
  <!-- ===================== -->
  <arg name="use_cloud" default="true"/>
  <arg name="use_camera" default="true"/>
  <arg name="use_imu" default="true"/>

  <!-- ===================== -->
  <!-- Sensors & Actuators -->
  <!-- ===================== -->
  <node pkg="elderly_bot"
        type="sensors_actuators_node.py"
        name="sensors_actuators_node"
        output="screen">

    <!-- Load hardware configuration -->
    <rosparam file="$(find elderly_bot)/config/sensors/sensors_actuators.yaml"/>

  </node>

  <!-- ===================== -->
  <!-- Camera -->
  <!-- ===================== -->
  <group if="$(arg use_camera)">
    <node pkg="elderly_bot"
          type="camera_node.py"
          name="camera_node"
          output="screen"/>
  </group>

  <!-- ===================== -->
  <!-- IMU -->
  <!-- ===================== -->
  <group if="$(arg use_imu)">
    <node pkg="elderly_bot"
          type="mpu9250_node.py"
          name="mpu9250_node"
          output="screen"/>
  </group>

  <!-- ===================== -->
  <!-- Cloud Bridge -->
  <!-- ===================== -->
  <group if="$(arg use_cloud)">
    <node pkg="elderly_bot"
          type="cloud_bridge_node.py"
          name="cloud_bridge_node"
          output="screen">

      <!-- Load cloud configuration -->
      <rosparam file="$(find elderly_bot)/config/cloud/cloud_config.yaml"/>

    </node>
  </group>

  <!-- ===================== -->
  <!-- System Health Monitor -->
  <!-- ===================== -->
  <node pkg="elderly_bot"
        type="system_health_monitor.py"
        name="system_health_monitor"
        output="screen"/>

</launch>
